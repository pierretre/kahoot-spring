/*C20*/SET SCHEMA PUBLIC
create table kahoot (id bigint not null, creator_id bigint, primary key (id))
create table organizer (id bigint not null, email varchar(255), username varchar(255), primary key (id))
create table qcmanswer (id bigint not null, answer_text varchar(255), question_id bigint, primary key (id))
create table question (question_type varchar(31) not null, id bigint not null, question varchar(255), expected_response varchar(255), kahoot_id bigint, good_answer_id bigint, primary key (id))
create table session (id bigint not null, date timestamp(6), kahoot_id bigint, primary key (id))
create table user (id bigint not null, score integer not null, username varchar(255), session_id bigint, primary key (id))
create table user_answer (answer_type varchar(31) not null, id bigint not null, datetime timestamp(6), good boolean not null, short_answer varchar(255), user_id bigint, qcm_answer_id bigint, primary key (id))
create sequence kahoot_seq start with 1 increment by 50
create sequence organizer_seq start with 1 increment by 50
create sequence qcmanswer_seq start with 1 increment by 50
create sequence question_seq start with 1 increment by 50
create sequence session_seq start with 1 increment by 50
create sequence user_answer_seq start with 1 increment by 50
create sequence user_seq start with 1 increment by 50
alter table kahoot add constraint FK58t7ccathpstuv6yn0rpxm7wv foreign key (creator_id) references organizer
alter table qcmanswer add constraint FKllm7inlb8o592ilagdnrkd3ii foreign key (question_id) references question
alter table question add constraint FKd916twc8qs7kul216904qby1s foreign key (kahoot_id) references kahoot
alter table question add constraint FKd0s59v53r922cv268591hys5w foreign key (good_answer_id) references qcmanswer
alter table session add constraint FK7ou2l80j2fcb3n6fv0200eq5f foreign key (kahoot_id) references kahoot
alter table user add constraint FKk53s9mhp2hpkwet3v4kd8pj07 foreign key (session_id) references session
alter table user_answer add constraint FK7kw17ur9w2egkc51xua3yh0ux foreign key (user_id) references user
alter table user_answer add constraint FKp6gc2hgubqdjb7a0jvcfddmm5 foreign key (qcm_answer_id) references qcmanswer
INSERT INTO QUESTION VALUES('SAQ',1,'How many legs does a cat have ?','4',NULL,NULL)
ALTER SEQUENCE PUBLIC.QUESTION_SEQ RESTART WITH 51
COMMIT
INSERT INTO QUESTION VALUES('QCMQ',2,NULL,NULL,NULL,NULL)
ALTER SEQUENCE PUBLIC.QUESTION_SEQ RESTART WITH 101
COMMIT
INSERT INTO QCMANSWER VALUES(1,'Russia',2)
DELETE FROM QUESTION WHERE ID=2
INSERT INTO QUESTION VALUES('QCMQ',2,'What is the largest country in the world ?',NULL,NULL,NULL)
ALTER SEQUENCE PUBLIC.QCMANSWER_SEQ RESTART WITH 51
COMMIT
INSERT INTO QCMANSWER VALUES(2,'USA',2)
ALTER SEQUENCE PUBLIC.QCMANSWER_SEQ RESTART WITH 101
COMMIT
INSERT INTO QCMANSWER VALUES(3,'Canada',2)
COMMIT
INSERT INTO QCMANSWER VALUES(4,'Brazil',2)
COMMIT
DELETE FROM QUESTION WHERE ID=2
INSERT INTO QUESTION VALUES('QCMQ',2,'What is the largest country in the world ?',NULL,NULL,1)
COMMIT
INSERT INTO ORGANIZER VALUES(1,'bob@mail.com','bob')
ALTER SEQUENCE PUBLIC.ORGANIZER_SEQ RESTART WITH 51
COMMIT
INSERT INTO KAHOOT VALUES(1,1)
ALTER SEQUENCE PUBLIC.KAHOOT_SEQ RESTART WITH 51
COMMIT
INSERT INTO SESSION VALUES(1,'2024-09-24 17:30:58.926242',1)
ALTER SEQUENCE PUBLIC.SESSION_SEQ RESTART WITH 51
COMMIT
INSERT INTO USER VALUES(1,0,'u1',1)
ALTER SEQUENCE PUBLIC.USER_SEQ RESTART WITH 51
COMMIT
INSERT INTO USER VALUES(2,0,'u2',1)
ALTER SEQUENCE PUBLIC.USER_SEQ RESTART WITH 101
COMMIT
INSERT INTO USER VALUES(3,0,'u3',1)
COMMIT
INSERT INTO USER VALUES(4,0,'u4',1)
COMMIT
INSERT INTO USER_ANSWER VALUES('SA',1,'2024-09-24 17:30:58.926242',FALSE,'2',1,NULL)
ALTER SEQUENCE PUBLIC.USER_ANSWER_SEQ RESTART WITH 51
COMMIT
INSERT INTO USER_ANSWER VALUES('SA',2,'2024-09-24 17:30:58.926242',TRUE,'4',2,NULL)
ALTER SEQUENCE PUBLIC.USER_ANSWER_SEQ RESTART WITH 101
COMMIT
INSERT INTO USER_ANSWER VALUES('SA',3,'2024-09-24 17:30:58.926242',FALSE,'3',3,NULL)
COMMIT
INSERT INTO USER_ANSWER VALUES('SA',4,'2024-09-24 17:30:58.926242',TRUE,'4',4,NULL)
COMMIT
INSERT INTO USER_ANSWER VALUES('QCMA',5,'2024-09-24 17:30:58.926242',FALSE,NULL,1,2)
COMMIT
INSERT INTO USER_ANSWER VALUES('QCMA',6,'2024-09-24 17:30:58.926242',TRUE,NULL,2,1)
COMMIT
INSERT INTO USER_ANSWER VALUES('QCMA',7,'2024-09-24 17:30:58.926242',FALSE,NULL,3,2)
COMMIT
INSERT INTO USER_ANSWER VALUES('QCMA',8,'2024-09-24 17:30:58.926242',FALSE,NULL,4,4)
COMMIT
/*C30*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/INSERT INTO QUESTION VALUES('SAQ',3,'How many legs does a cat have ?','4',NULL,NULL)
COMMIT
INSERT INTO QUESTION VALUES('QCMQ',4,NULL,NULL,NULL,NULL)
COMMIT
INSERT INTO QCMANSWER VALUES(5,'Russia',4)
DELETE FROM QUESTION WHERE ID=4
INSERT INTO QUESTION VALUES('QCMQ',4,'What is the largest country in the world ?',NULL,NULL,NULL)
COMMIT
INSERT INTO QCMANSWER VALUES(6,'USA',4)
COMMIT
INSERT INTO QCMANSWER VALUES(7,'Canada',4)
COMMIT
INSERT INTO QCMANSWER VALUES(8,'Brazil',4)
COMMIT
DELETE FROM QUESTION WHERE ID=4
INSERT INTO QUESTION VALUES('QCMQ',4,'What is the largest country in the world ?',NULL,NULL,5)
COMMIT
INSERT INTO ORGANIZER VALUES(2,'bob@mail.com','bob')
ALTER SEQUENCE PUBLIC.ORGANIZER_SEQ RESTART WITH 101
COMMIT
INSERT INTO KAHOOT VALUES(2,2)
ALTER SEQUENCE PUBLIC.KAHOOT_SEQ RESTART WITH 101
COMMIT
INSERT INTO SESSION VALUES(2,'2024-09-24 17:31:55.103040',2)
ALTER SEQUENCE PUBLIC.SESSION_SEQ RESTART WITH 101
COMMIT
INSERT INTO USER VALUES(5,0,'u1',2)
COMMIT
INSERT INTO USER VALUES(6,0,'u2',2)
COMMIT
INSERT INTO USER VALUES(7,0,'u3',2)
COMMIT
INSERT INTO USER VALUES(8,0,'u4',2)
COMMIT
INSERT INTO USER_ANSWER VALUES('SA',9,'2024-09-24 17:31:55.103040',FALSE,'2',5,NULL)
COMMIT
INSERT INTO USER_ANSWER VALUES('SA',10,'2024-09-24 17:31:55.103040',TRUE,'4',6,NULL)
COMMIT
INSERT INTO USER_ANSWER VALUES('SA',11,'2024-09-24 17:31:55.103040',FALSE,'3',7,NULL)
COMMIT
INSERT INTO USER_ANSWER VALUES('SA',12,'2024-09-24 17:31:55.103040',TRUE,'4',8,NULL)
COMMIT
INSERT INTO USER_ANSWER VALUES('QCMA',13,'2024-09-24 17:31:55.103040',FALSE,NULL,5,6)
COMMIT
INSERT INTO USER_ANSWER VALUES('QCMA',14,'2024-09-24 17:31:55.103040',TRUE,NULL,6,5)
COMMIT
INSERT INTO USER_ANSWER VALUES('QCMA',15,'2024-09-24 17:31:55.103040',FALSE,NULL,7,6)
COMMIT
INSERT INTO USER_ANSWER VALUES('QCMA',16,'2024-09-24 17:31:55.103040',FALSE,NULL,8,8)
COMMIT
